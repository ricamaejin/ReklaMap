<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/png" href="/images/logo.png">
  <title>ReklaMap</title>
  <link rel="stylesheet" href="/css/complainants.css">
</head>
<body>

  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="logo-section">
      <img src="/images/logo.png" alt="ReklaMap Logo" class="logo">
      <span class="title"><span class="blue-text">Rekla</span><span class="green-text">Map</span></span>
    </div>
    <nav class="nav-menu">
      <a href="/complainant/home/dashboard.html" class="nav-item">Home</a>
      <a href="/complainant/complaints/submitted_complaints.html" class="nav-item active">Complaints</a>
    </nav>
  </aside>
  

  <!-- Main Form -->
  <div class="main">
    <div class="form-container">
      <form id="BoundaryDisputeForm">
        <h1 style="text-decoration: underline;">COMPLAINT FORM <br> PATHWAY DISPUTE</h1>
        <div class="instructions">
          <p><strong>INSTRUCTION</strong></p>
          <ul>
            <li>Complete the application form properly and legibly.</li>
            <li>For checkbox items (☑), you may select more than one option if applicable.</li>
            <li>For radio button items (◉), please select only one option.</li>
            <li>If a field or question does not apply to you or you do not know the answer, write “N/A” (Not Applicable).</li>
            <li>Ensure all required fields are filled before submitting the form.</li>
          </ul>
        </div>

        <div class="section-header">COMPLAINANT'S DETAILS:</div>
          <div class="pairs">
            <div class="pair-row">
              <div class="col">
                <label class="small">Full Name:</label>
                <input type="text" name="full_name" readonly>
              </div>
            </div>

            <div class="pair-row">
              <div class="col">
                <label class="small">Date of Birth:</label>
                <input type="date" name="date_of_birth" readonly 
                style="margin-top: 6px; margin-left: 13px; padding:7px;border:1px solid #cfdcea;border-radius:3px;font-size:13px;background:white; width: 96%;">
              </div>

              <div class="col">
                <label class="small">Sex:</label>
                <input type="text" name="sex" readonly>
              </div>
            </div>

            <div class="pair-row">
              <div class="col">
                <label class="small">Civil Status:</label>
                <input type="text" name="civil_stat" readonly>
              </div>
              <div class="col">
                <label class="small">Citizenship:</label>
                <input type="text" name="citizenship" readonly>
              </div>
            </div>

            <div class="pair-row">
              <div class="col">
                <label class="small">Current Address:</label>
                <input type="text" name="cur_add" readonly>
              </div>

              <div class="col">
                <label class="small">HOA:</label>
                <input type="text" name="hoa" readonly>
              </div>
            </div>

            <div class="pair-row">
              <div class="col">
                <label class="small">Block Assignment Number:</label>
                <input type="text" name="blk_num" readonly>
              </div>

              <div class="col">
                <label class="small">Lot Assignment Number:</label>
                <input type="text" name="lot_num" readonly>
              </div>

              <div class="col">
                <label class="small">Lot Area Size:</label>
                <input type="text" name="lot_size" readonly>
              </div>
            </div>

            <div class="pair-row">
              <div class="col">
                <label class="small">Phone Number:</label>
                <input type="text" name="phone_number" readonly>
              </div>

              <div class="col"></div>
            </div>
          </div>

        <!-- Section 1 -->
        <div class="section-header">LOT DETAILS AND CLAIM:</div>
        <p style="font-weight: bold;">1. What type of pathway is being encroached upon?</p>
        <label><input type="radio" name="possession"> Public sidewalk (pedestrian path)</label>
        <label><input type="radio" name="possession"> Common path/alley used by residents</label>
        <label><input type="radio" name="possession"> Government-declared easement or right-of-way</label>
        <label><input type="radio" name="possession" style="margin-bottom: 12px;"> Path used for access to utilities (water lines, drainage, etc.)</label>


        <p style="font-weight: bold;">2. What is the nature of the encroachment?</p>
        <label><input type="radio" name="nature"> A permanent structure (e.g., house extension, wall) was built on the path</label>
        <label><input type="radio" name="nature"> A fence or gate blocks pedestrian access</label>
        <label><input type="radio" name="nature"> A store or business has occupied the pathway</label>
        <label><input type="radio" name="nature"> Temporary materials (e.g., chairs, tables, stalls) regularly block the path</label>
        <label><input type="radio" name="nature"> Vehicle/s parked long-term on the path or right-of-way</label>
        <label><input type="radio" name="nature" style="margin-bottom: 12px;"> Construction debris or materials are placed on the path</label>

        <p style="font-weight: bold;">3. How long has the pathway been obstructed or encroached?</p>
        <label><input type="radio" name="conflict"> Less than 1 month</label>
        <label><input type="radio" name="conflict"> 1-6 months</label>
        <label><input type="radio" name="conflict"> More than 6 months</label>
        <label><input type="radio" name="conflict" style="margin-bottom: 12px;"> Not sure</label>

        <p style="font-weight: bold;">4. Is the obstruction still present at the time of filing this complaint?</p>
        <label><input type="radio" > Yes – fully blocked</label>
        <label><input type="radio" > Yes – partially blocked</label>
        <label><input type="radio" > No – it was removed but may return</label>
        <label><input type="radio" > No</label>
        <label><input type="radio"  style="margin-bottom: 12px;"> Not sure</label>

        <p style="font-weight: bold;">5. How has this encroachment affected your access or mobility? <i style="font-size: 14px; font-weight: normal; color: grey;">(Check all that apply)</i></p>
        <label><input type="checkbox"> I can no longer pass through the area</label>
        <label><input type="checkbox"> The path has become unsafe or too narrow</label>
        <label><input type="checkbox"> Children, elderly, or PWDs cannot safely use the path</label>
        <label><input type="checkbox"> The obstruction forces people to walk on the road</label>
        <label><input type="checkbox" style="margin-bottom: 12px;"> Emergency vehicles or services are affected</label>

        <p style="font-weight: bold;">6. Have other residents or the barangay raised similar concerns?</p>
        <label><input type="radio" > Yes</label>
        <label><input type="radio" > No</label>
        <label><input type="radio" style="margin-bottom: 12px;"> Not sure</label>

        <p style="font-weight: bold;">7. Has the encroaching party been informed or warned by anyone?</p>
        <label><input type="radio" > Yes – by me</label>
        <label><input type="radio" > Yes – by barangay officials</label>
        <label><input type="radio" > No</label>
        <label><input type="radio"  style="margin-bottom: 12px;"> Not sure</label>

        <p><strong>8. Has the dispute led to any of the following? </strong><i style="font-size: 14px; font-weight: normal; color: grey;">(Check all that apply)</i></p>
        <label><input type="checkbox"> Threats or harassment</label>
        <label><input type="checkbox"> Physical altercation</label>
        <label><input type="checkbox"> Demolition or forced entry</label>
        <label><input type="checkbox"> Property damage</label>
        <label><input type="checkbox" style="margin-bottom: 12px;" value="None"> None</label>

        <label><strong>9. Have you reported this boundary issue to any office or authority?</strong><i style="font-size: 14px; font-weight: normal; color: grey;">(Check all that apply)</i></label>
        <label><input type="checkbox" name="boundary_reported_to[]" value="Barangay"> Barangay</label>
        <label><input type="checkbox" name="boundary_reported_to[]" value="HOA"> HOA</label>
        <label><input type="checkbox" name="boundary_reported_to[]" value="NGC"> NGC</label>
        <label><input type="checkbox" name="boundary_reported_to[]" value="NGC"> USAD - PHASELAD</label>
        <label><input type="checkbox" name="boundary_reported_to[]" value="none"> None</label>


        <label><strong>10. Was there any site inspection or verification conducted?</strong></label>
        <label><input type="radio" name="site_inspection" value="Yes - Barangay" required> Yes – by Barangay</label>
        <label><input type="radio" name="site_inspection" value="Yes - HOA"> Yes – by HOA</label>
        <label><input type="radio" name="site_inspection" value="Yes - NGC"> Yes – by NGC</label>
        <label><input type="radio" name="site_inspection" value="Yes - NGC"> Yes – by USAD - PHASELAD</label>
        <label><input type="radio" name="site_inspection" value="No"> No</label>
        <label><input type="radio" name="site_inspection" value="Not sure"> Not sure</label>

        <label><strong>11. What was the result of the report or inspection?</strong><i style="font-size: 14px; font-weight: normal; color: grey;">(Check all that apply)</i></label>
        <label><input type="checkbox" name="site_result[]" value="Advised to adjust or vacate"> The other party was advised to adjust or vacate</label>
        <label><input type="checkbox" name="site_result[]" value="Asked to provide more documents"> I was advised to provide more documents</label>
        <label><input type="checkbox" name="site_result[]" value="Still under investigation"> The issue is still under investigation</label>
        <label><input type="checkbox" name="site_result[]" value="No action taken"> No action was taken</label>
        <label><input type="checkbox" name="site_result[]" value="Not applicable"> Not applicable / No inspection yet</label>

        <p style="font-weight: bold;">12. Is there an ongoing development or government housing project in the area?</p>
        <label><input type="radio" > Yes</label>
        <label><input type="radio" > No</label>
        <label><input type="radio"  style="margin-bottom: 12px;"> Not sure</label>

        <!-- Section 2 -->
        <p  class="section-label">Please describe what happened briefly, including how you found out about the issue.</p>
        <textarea></textarea>

        <!-- Section 3 -->
        <div class="section-header">COMPLAINANT’S CONSENT AND DECLARATION</div>
        <div class="consent">
          By submitting this complaint form, I hereby consent to the collection and processing of my personal information as necessary to address the issues raised regarding the lot in question. I confirm that the information provided is accurate and complete to the best of my knowledge. I understand that any false or incomplete information may affect the handling of my complaint, and I acknowledge that my personal details will be processed in compliance with the Privacy Act and other applicable laws.
        </div>

        <div class="signature">
          <input type="file" id="signatureInput" accept="image/*" style="display:none;" />
          <button type="button" class="upload-btn" onclick="document.getElementById('signatureInput').click()">Upload Signature</button>
          <span id="signatureFileName" style="margin-left:10px;  font-style:italic;"></span>
        </div>
      </form>
    </div>
  </div>


<script>
  function setupConditionalDisplay(radioYesId, containerId, groupName) {
  const yesRadio = document.getElementById(radioYesId);
  const container = document.getElementById(containerId);
  const radios = document.querySelectorAll(`input[name="${groupName}"]`);

  radios.forEach(radio => {
    radio.addEventListener("change", function () {
      if (yesRadio.checked) {
        container.style.display = "block";
      } else {
        container.style.display = "none";
        const input = container.querySelector("input");
        if (input) input.value = "";
      }
    });
  });
} 

  // Apply to all "Other & Conditional" groups
  setupConditionalDisplay("reasonYes", "reasonDetails", "reason");


  function handleFileInputChange(inputId, fileNameDisplayId) {
  const sigInput = document.getElementById(inputId);
  const sigFileName = document.getElementById(fileNameDisplayId);

  sigInput.addEventListener("change", function () {
    if (this.files.length > 0) {
      sigFileName.textContent = "✔ " + this.files[0].name;
    } else {
      sigFileName.textContent = "";
    }
  });
}
</script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const form = document.getElementById('BoundaryDisputeForm');
  if (!form) return;

  // --- helpers ---
  function findQ6Start() {
    const nodes = Array.from(form.querySelectorAll('p, label, div, h1, h2, h3'));
    return nodes.find(el => {
      const t = (el.textContent || '').trim();
      return /^8\./.test(t) || /Has the dispute led/i.test(t);
    }) || null;
  }

  function isQ7Header(el) {
    if (!el) return false;
    const t = (el.textContent || '').trim();
    if (/^7\./.test(t)) return true;
    if (/Have you reported/i.test(t)) return true;
    const strong = el.querySelector && el.querySelector('strong');
    if (strong && /^\s*7\./.test((strong.textContent || '').trim())) return true;
    return false;
  }

  function collectCheckboxesBetween(startEl, stopCond) {
    const boxes = [];
    let el = startEl.nextElementSibling;
    while (el) {
      if (stopCond(el)) break;
      if (el.querySelector) {
        const inputs = Array.from(el.querySelectorAll('input[type="checkbox"]'));
        inputs.forEach(i => boxes.push(i));
      }
      el = el.nextElementSibling;
    }
    return boxes;
  }

  function setupExclusiveNoneForList(checkboxList) {
    if (!checkboxList || checkboxList.length === 0) return;
    // find the group's "None" checkbox by value or by label text
    const none = checkboxList.find(cb => {
      if (!cb) return false;
      const v = (cb.value || '').trim().toLowerCase();
      if (v === 'none') return true;
      const lbl = cb.closest && cb.closest('label');
      return lbl && /\bnone\b/i.test(lbl.textContent || '');
    });
    if (!none) return;
    const others = checkboxList.filter(cb => cb !== none);

    // initialize state (handles prechecked)
    if (none.checked) {
      others.forEach(cb => { cb.checked = false; cb.disabled = true; cb.closest('label')?.classList.add('disabled'); });
    } else {
      others.forEach(cb => { cb.disabled = false; cb.closest('label')?.classList.remove('disabled'); });
    }

    // When None toggles
    none.addEventListener('change', () => {
      if (none.checked) {
        others.forEach(cb => { cb.checked = false; cb.disabled = true; cb.closest('label')?.classList.add('disabled'); });
      } else {
        others.forEach(cb => { cb.disabled = false; cb.closest('label')?.classList.remove('disabled'); });
      }
    });

    // When any other is checked, ensure None is unchecked (and enabled)
    others.forEach(cb => {
      cb.addEventListener('change', () => {
        if (cb.checked) {
          none.checked = false;
          none.disabled = false;
          none.closest('label')?.classList.remove('disabled');
        }
      });
    });
  }

  // --- Q6: collect checkboxes between Q6 header and Q7 header ---
  const q6Start = findQ6Start();
  const q6Checkboxes = q6Start ? collectCheckboxesBetween(q6Start, isQ7Header) : [];
  setupExclusiveNoneForList(q6Checkboxes);

  // --- Q7: by name attribute ---
  const q7Checkboxes = Array.from(form.querySelectorAll('input[name="boundary_reported_to[]"][type="checkbox"]'));
  setupExclusiveNoneForList(q7Checkboxes);

  // --- small CSS hint for disabled labels (visual cue) ---
  const style = document.createElement('style');
  style.textContent = `
    label.disabled { opacity: 0.6; }
    label.disabled input { cursor: not-allowed; }
  `;
  document.head.appendChild(style);
});
</script>
</body>
</html>